<!DOCTYPE html>
<html>
<head>
    <title>Audio File Generator</title>
</head>
<body>
    <h1>Generate Test Audio Files</h1>
    <p>This page generates small silent MP3 files for testing the audio system.</p>
    
    <script>
    // Generate a silent audio buffer and convert to MP3-like data
    function generateSilentAudio() {
        // Create audio context
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        
        // Create a short silent buffer (0.1 seconds)
        const buffer = audioContext.createBuffer(1, audioContext.sampleRate * 0.1, audioContext.sampleRate);
        
        // Convert to WAV (simplified approach)
        const length = buffer.length * buffer.numberOfChannels * 2 + 44;
        const arrayBuffer = new ArrayBuffer(length);
        const view = new DataView(arrayBuffer);
        
        // WAV header
        const writeString = (offset, string) => {
            for (let i = 0; i < string.length; i++) {
                view.setUint8(offset + i, string.charCodeAt(i));
            }
        };
        
        writeString(0, 'RIFF');
        view.setUint32(4, length - 8, true);
        writeString(8, 'WAVE');
        writeString(12, 'fmt ');
        view.setUint32(16, 16, true);
        view.setUint16(20, 1, true);
        view.setUint16(22, buffer.numberOfChannels, true);
        view.setUint32(24, audioContext.sampleRate, true);
        view.setUint32(28, audioContext.sampleRate * buffer.numberOfChannels * 2, true);
        view.setUint16(32, buffer.numberOfChannels * 2, true);
        view.setUint16(34, 16, true);
        writeString(36, 'data');
        view.setUint32(40, length - 44, true);
        
        // Silent audio data (all zeros)
        let offset = 44;
        for (let i = 0; i < buffer.length; i++) {
            view.setInt16(offset, 0, true);
            offset += 2;
        }
        
        return new Blob([arrayBuffer], { type: 'audio/wav' });
    }
    
    // Generate and download test files
    const files = [
        'footstep.wav',
        'door-open.wav', 
        'door-close.wav',
        'treasure.wav',
        'trap.wav',
        'magic.wav',
        'combat.wav',
        'ambient-dungeon.wav'
    ];
    
    files.forEach(filename => {
        const blob = generateSilentAudio();
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = filename;
        a.textContent = `Download ${filename}`;
        a.style.display = 'block';
        a.style.margin = '5px 0';
        document.body.appendChild(a);
    });
    
    console.log('Test audio files generated. Click links to download.');
    </script>
</body>
</html>